{% extends "base.html.twig" %}
{% block body %}

<nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-light">
    <a id="logo" class="navbar-brand js-scroll-trigger" href="#page-top">Home</a>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#services">What I offer</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#resume">Resume</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#portfolio">Recent Projects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="{{ path("comments") }}">Comments</a>
                </li>
            </ul>
            <ul class="nav navbar-nav ml-auto">
                {% if app.user %}
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="{{ path('logout') }}" id="logout">Logout</a>
                    </li>
                    <li class="nav-item">
                         <span class="nav-link js-scroll-trigger" style="color: #4CAEE3">Logged as {{ user.username }}</span>
                    </li>
                {% else %}
                    <li class="nav-item position-relative">
                        <span class="nav-link js-scroll-trigger" id="login">Login</span>
                            {% if error %}
                                <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                            {% endif %}
                            <form class="login-form position-fixed display-none" action="{{ path('main-page') }}" method="POST">
                                <input class="login-email" type="text" name="_username" value="{{ lastUsername }}" placeholder="Email">
                                <input class="login-password" type="password" name="_password" placeholder="Password">
                                <button class="login-submitbutton" type="submit">Login</button>
                            </form>
                    </li>
                    <li class="nav-item position-relative">
                        <span class="nav-link js-scroll-trigger" id="sign-up">Sign up</span>
                        {# register form #}
                        <div id="register-popup" class="position-fixed register-form display-none">
                            {{ form_start(form, {'attr': {'class': 'registertype-form'}}) }}
                            {{ form_row(form.username, {'attr': {'class': 'registertype-form_input'}}) }}
                            {{ form_row(form.surname, {'attr': {'class': 'registertype-form_input'}}) }}
                            {{ form_row(form.email, {'attr': {'class': 'registertype-form_input'}}) }}
                            {{ form_row(form.user_nick, {'attr': {'class': 'registertype-form_input'}}) }}
                            {{ form_row(form.plainPassword.first, {'attr': {'class': 'registertype-form_input'}}) }}
                            {{ form_row(form.plainPassword.second, {'attr': {'class': 'registertype-form_input'}}) }}
                            {{ form_end(form) }}
                        </div>
                    </li>
                {% endif %}

            </ul>
        </div>
    </div>
</nav>

<video autoplay muted loop id="myVideo">
    <source src="{{ asset('videos/rain.mp4') }}" type="video/mp4">
</video>

<!-- Header -->
<header class="masthead d-flex">
    <div class="container text-center my-auto position-relative">
        <h1 class="mb-1">Artūras Gerasimov Portfolio</h1>
        <h3 class="position-absolute">
            <em>
                <div id="text"></div>
                <div id="cursor"></div>
            </em>
        </h3>
    </div>
    <div class="overlay"></div>
</header>

<!-- About -->

<div id="white-background">

    <section class="content-section bg-light" id="about">
        <div class="container text-center">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2>This can be your next web page!</h2>
                    <p class="lead mb-5"></p>
                    <a class="btn btn-dark btn-xl js-scroll-trigger" href="#services">What We Offer</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Services -->
    <section class="content-section bg-primary text-white text-center" id="services">
        <div class="container">
            <div class="content-section-heading">
                <h3 class="text-secondary mb-0">Services</h3>
                <h2 class="mb-5">What I Offer</h2>
            </div>
            <div class="row">
                <div  class="col-lg-3 col-md-6 mb-5 mb-lg-0">
            <span id="shake" class="service-icon rounded-circle mx-auto mb-3">
              <i  class="icon-screen-smartphone"></i>
            </span>
                    <h4>
                        <strong>Responsive</strong>
                    </h4>
                    <p class="text-faded mb-0">Your page will look great on any screen size!</p>
                </div>
                <div class="col-lg-3 col-md-6 mb-5 mb-lg-0">
            <span id="shake" class="service-icon rounded-circle mx-auto mb-3">
              <i class="icon-pencil"></i>
            </span>
                    <h4>
                        <strong>Designed</strong>
                    </h4>
                    <p class="text-faded mb-0">Bespoke website solutions tailored to your requirements.</p>
                </div>
                <div class="col-lg-3 col-md-6 mb-5 mb-md-0">
            <span id="shake" class="service-icon rounded-circle mx-auto mb-3">
              <i class="icon-like"></i>
            </span>
                    <h4>
                        <strong>Professional</strong>
                    </h4>
                    <p class="text-faded mb-0">A perfectly developed website from start to finish</p>
                </div>
                <div class="col-lg-3 col-md-6">
            <span id="shake" class="service-icon rounded-circle mx-auto mb-3">
              <i class="icon-mustache"></i>
            </span>
                    <h4>
                        <strong>Question</strong>
                    </h4>
                    <p class="text-faded mb-0">I mustache you a question...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Callout -->
    <section id="resume" class="callout">
        <div class="container text-center">
            <h2 class="mx-auto mb-5">Here is
                <em>My</em>
                resume!</h2>
            <a class="btn btn-primary btn-xl" href="{{ path('resume') }}">Have a look!</a>
        </div>
    </section>

    <!-- Portfolio -->
    <section class="content-section" id="portfolio">
        <div class="container">
            <div class="content-section-heading text-center">
                <h3 class="text-secondary mb-0">Portfolio</h3>
                <h2 class="mb-5">Recent Projects</h2>
            </div>
            <div class="row no-gutters">
                <div class="col-lg-6">
                    <a class="portfolio-item" href="rgb_game/colorGame.html">
              <span class="caption">
                <span class="caption-content">
                  <h2>RGB game!</h2>
                  <p class="mb-0">Great game to learn RGB colors!</p>
                </span>
              </span>
                        <img class="img-fluid" src="{{ asset('images/portfolio-1.jpg') }}" alt="">
                    </a>
                </div>
                <div class="col-lg-6">
                    <a class="portfolio-item" href="projektas/index.html">
              <span class="caption">
                <span class="caption-content">
                  <h2>My first web page</h2>
                  <p class="mb-0">A project I did at Vilnius Coding School. The website is connected to the database and features the options to signup, login/logout</p>
                </span>
              </span>
                        <img class="img-fluid" src="{{ asset('images/portfolio-2.jpg') }}" alt="">
                    </a>
                </div>
                <div class="col-lg-6">
                    <a class="portfolio-item" href="baneriai/index.html">
              <span class="caption">
                <span class="caption-content">
                  <h2>First Official Job - DONE!</h2>
                  <p class="mb-0">Rebuilt code, adapted to all browsers</p>
                </span>
              </span>
                        <img class="img-fluid" src="{{ asset('images/portfolio-3.jpg') }}" alt="">
                    </a>
                </div>
                <div class="col-lg-6">
                    <a class="portfolio-item" href="sound_game/paper.html">
              <span class="caption">
                <span class="caption-content">
                  <h2>Smash TheKeyboard!</h2>
                  <p class="mb-0">Make your own melodies, expand your imagination!</p>
                </span>
              </span>
                        <img class="img-fluid" src="{{ asset('images/portfolio-4.jpg') }}" alt="">
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="content-section bg-primary text-white">
        <div class="container text-center">
            <h2 class="mb-4">It's always fun to chat! Let me know what’s on your mind</h2>
            <a href="tel:+37060840108" class="btn btn-xl btn-light mr-4">Call me!</a>
            <a href="mailto:arturas.gerasimov@gmail.com" class="btn btn-xl btn-dark">Email me!</a>
        </div>
    </section>


    <!-- Map -->
    <section id="contact" class="map">
        <iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d147553.9540675093!2d25.112850930799695!3d54.70028863925414!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46dd93fb5c6408f5%3A0x400d18c70e9dc40!2sVilnius!5e0!3m2!1slt!2slt!4v1548529517213"></iframe>
        <br/>
        <small>
            <a href="https://maps.google.com/maps?f=q&amp;source=embed&amp;hl=en&amp;geocode=&amp;q=Twitter,+Inc.,+Market+Street,+San+Francisco,+CA&amp;aq=0&amp;oq=twitter&amp;sll=28.659344,-81.187888&amp;sspn=0.128789,0.264187&amp;ie=UTF8&amp;hq=Twitter,+Inc.,+Market+Street,+San+Francisco,+CA&amp;t=m&amp;z=15&amp;iwloc=A"></a>
        </small>
    </section>

    <!-- Footer -->
    <footer class="footer text-center">
        <div class="container">
            <ul class="list-inline mb-5">
                <li class="list-inline-item">
                    <a class="social-link rounded-circle text-white mr-3" href="https://www.facebook.com/arturas.gerasimov">
                        <i class="icon-social-facebook"></i>
                    </a>
                </li>
                <li class="list-inline-item">
                    <a class="social-link rounded-circle text-white mr-3" href="https://www.linkedin.com/in/art%C5%ABras-gerasimov-536627135/">
                        <i class="icon-social-linkedin"></i>
                    </a>
                </li>
                <li class="list-inline-item">
                    <a class="social-link rounded-circle text-white" href="https://github.com/ArturasGerasimov">
                        <i class="icon-social-github"></i>
                    </a>
                </li>
            </ul>
            <address>
                <dl>
                    <dt>Phone number:</dt>
                    <dd><a href="tel:+37060840108">+37060840108</a></dd>
                    <dt>Email:</dt>
                    <dd><a href="mailto:arturas.gerasimov@gmail.com">arturas.gerasimov@gmail.com</a></dd>
                </dl>
            </address>
            <p class="text-muted small mb-0">Copyright &copy; Artūras Gerasimov Website 2018</p>
        </div>
    </footer>

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded js-scroll-trigger" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

</div>

{% endblock %}
{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>

    <script>

            $( "#sign-up" ).click(function() {
                if ($("#register-popup").hasClass("display-none")){
                    $(".login-form").fadeOut("slow").addClass("display-none");
                    $("#register-popup").slideDown("slow").removeClass("display-none").css("display", "block");
                } else {
                    $("#register-popup").slideUp("slow").addClass("display-none");
                }
            });

            $( "#login" ).click(function() {
                if ($(".login-form").hasClass("display-none")){
                    $("#register-popup").fadeOut("slow").addClass("display-none");
                    $(".login-form").slideDown("slow").removeClass("display-none").css("display", "grid");
                } else {
                    $(".login-form").slideUp("slow").addClass("display-none");
                }
            });



        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
                document.getElementById("navbar").style.background = "rgba(0, 0, 0, 0.1)";
                document.getElementById("navbar").style.padding = "3px";
                document.getElementById("logo").style.fontSize = "25px";
            } else {
                document.getElementById("navbar").style.background = "none";
                document.getElementById("navbar").style.padding = "10px";
                document.getElementById("logo").style.fontSize = "40px";
                document.getElementById("logo").style.transition = ".4s";
            }
        }

        //writing and deleting animation

        // List of sentences
        var _CONTENT = [
            "Your trusted web developer!",
            "There are no limits to your page..."
        ];

        // Current sentence being processed
        var _PART = 0;

        // Character number of the current sentence being processed
        var _PART_INDEX = 0;

        // Holds the handle returned from setInterval
        var _INTERVAL_VAL;

        // Element that holds the text
        var _ELEMENT = document.querySelector("#text");

        // Cursor element
        var _CURSOR = document.querySelector("#cursor");

        // Implements typing effect
        function Type() {
            // Get substring with 1 characater added
            var text =  _CONTENT[_PART].substring(0, _PART_INDEX + 1);
            _ELEMENT.innerHTML = text;
            _PART_INDEX++;

            // If full sentence has been displayed then start to delete the sentence after some time
            if(text === _CONTENT[_PART]) {
                // Hide the cursor
                _CURSOR.style.display = 'none';

                clearInterval(_INTERVAL_VAL);
                setTimeout(function() {
                    _INTERVAL_VAL = setInterval(Delete, 50);
                }, 1000);
            }
        }

        // Implements deleting effect
        function Delete() {
            // Get substring with 1 characater deleted
            var text =  _CONTENT[_PART].substring(0, _PART_INDEX - 1);
            _ELEMENT.innerHTML = text;
            _PART_INDEX--;

            // If sentence has been deleted then start to display the next sentence
            if(text === '') {
                clearInterval(_INTERVAL_VAL);

                // If current sentence was last then display the first one, else move to the next
                if(_PART == (_CONTENT.length - 1))
                    _PART = 0;
                else
                    _PART++;

                _PART_INDEX = 0;

                // Start to display the next sentence after some time
                setTimeout(function() {
                    _CURSOR.style.display = 'inline-block';
                    _INTERVAL_VAL = setInterval(Type, 100);
                }, 200);
            }
        }

        // Start the typing effect on load
        _INTERVAL_VAL = setInterval(Type, 100);

        (function($) {
            "use strict"; // Start of use strict

            // Closes the sidebar menu
            // $(".menu-toggle").click(function(e) {
            //   e.preventDefault();
            //   $("#sidebar-wrapper").toggleClass("active");
            //   $(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times");
            //   $(this).toggleClass("active");
            // });

            // Smooth scrolling using jQuery easing
            $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function() {
                if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
                    var target = $(this.hash);
                    target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                    if (target.length) {
                        $('html, body').animate({
                            scrollTop: target.offset().top
                        }, 1000, "easeInOutExpo");
                        return false;
                    }
                }
            });

            // Closes responsive menu when a scroll trigger link is clicked
            $('#sidebar-wrapper .js-scroll-trigger').click(function() {
                $("#sidebar-wrapper").removeClass("active");
                $(".menu-toggle").removeClass("active");
                $(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times");
            });

            // Scroll to top button appear
            $(document).scroll(function() {
                var scrollDistance = $(this).scrollTop();
                if (scrollDistance > 100) {
                    $('.scroll-to-top').fadeIn();
                } else {
                    $('.scroll-to-top').fadeOut();
                }
            });

        })(jQuery); // End of use strict

        // Disable Google Maps scrolling
        // See http://stackoverflow.com/a/25904582/1607849
        // Disable scroll zooming and bind back the click event
        var onMapMouseleaveHandler = function(event) {
            var that = $(this);
            that.on('click', onMapClickHandler);
            that.off('mouseleave', onMapMouseleaveHandler);
            that.find('iframe').css("pointer-events", "none");
        }
        var onMapClickHandler = function(event) {
            var that = $(this);
            // Disable the click handler until the user leaves the map area
            that.off('click', onMapClickHandler);
            // Enable scrolling zoom
            that.find('iframe').css("pointer-events", "auto");
            // Handle the mouse leave event
            that.on('mouseleave', onMapMouseleaveHandler);
        }
        // Enable map zooming with mouse scroll when the user clicks the map
        $('.map').on('click', onMapClickHandler);

    </script>
{% endblock %}